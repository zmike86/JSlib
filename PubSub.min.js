define(function(a,b,c){var d=a("./lang/Array");var e={topicMap:{}};"use strict";(function(){this.subscribe=function(a,b,c){if(a in this.topicMap){if(!d.find(this.topicMap[a]["subscribers"],function(a,c){return a.cb===b})){this.topicMap[a]["subscribers"].push({cb:b,context:c})}}else{this.topicMap[a]={subscribers:[{cb:b,context:c}]}}};this.unsubscribe=function(a,b){this.topicMap[a]&&function(){this.topicMap[a]["subscribers"]=d.filter(this.topicMap[a]["subscribers"],function(a){return a.cb!==b})}.call(this)};this.publish=function(a,b){this.topicMap[a]&&function(){var c=this.topicMap[a]["subscribers"];for(var d=0;d<c.length;d++){c[d].cb.apply(c[d].context,b)}}.call(this)}}).call(e);c.exports=e})